# 02-08: Demo Data Gaps - Activity, Workflows, AI, In-Progress Items

**Status:** Complete
**Created:** 2026-02-05
**Goal:** Fill critical demo data gaps to make Acme Co. environment fully "lived-in" for testing and demonstrations

## Problem Statement

The current Acme Co. demo environment has comprehensive base data (20K employees, 5K RIUs, 4.5K cases, 50 policies) but lacks the "lived-in" quality needed for deep demos:

1. **Activity timelines are sparse** - No "John assigned this to Sarah" events
2. **No active workflows** - All policies published, no approval workflows in progress
3. **No AI conversation history** - Chat panels show empty history
4. **No pending manager approvals** - Manager portal has nothing to action
5. **No policies in draft/review** - Cannot demo policy workflow

## Solution: Four New Seeders

### 1. Activity Timeline Seeder (`activity.seeder.ts`)
Seeds realistic activity timeline entries for cases and investigations:
- Status changes with actor attribution
- Assignment changes ("John assigned to Sarah because...")
- Notes added by investigators
- Priority escalations
- SLA warnings and breaches
- CCO escalations
- External party notifications

**Target:** 15,000+ activity entries across cases/investigations

### 2. Workflow Instance Seeder (`workflow-instance.seeder.ts`)
Creates active workflow instances:
- 5 policies in approval workflow (various stages)
- 10 cases with active routing workflows
- 3 disclosure reviews pending
- Demonstrates multi-step approval chains

**Target:** 20+ active workflow instances

### 3. AI Conversation Seeder (`ai-conversation.seeder.ts`)
Seeds AI interaction history:
- Case summarization requests and responses
- Policy drafting assistance
- Investigation guidance queries
- Disclosure form help
- Translation requests

**Target:** 50+ AI conversation records

### 4. In-Progress Data Seeder (`in-progress.seeder.ts`)
Creates items requiring user action:
- Manager pending approvals (proxy reports, disclosure reviews)
- Operator intake sessions in progress
- Recent unassigned cases for triage
- Overdue tasks for demo-employee
- Policy attestations due this week

**Target:** 30+ actionable items across portals

## Implementation Approach

Each seeder:
1. Uses existing Prisma models (no schema changes)
2. Links to existing demo users (demo-cco, demo-manager, etc.)
3. Uses realistic timestamps (recent activity more prominent)
4. Includes natural language descriptions for AI-first display
5. Marked as `isBaseData: true` for demo reset protection

## Files to Create

```
apps/backend/prisma/seeders/
├── activity.seeder.ts          # NEW - Activity timeline entries
├── workflow-instance.seeder.ts # NEW - Active workflow instances
├── ai-conversation.seeder.ts   # NEW - AI interaction history
├── in-progress.seeder.ts       # NEW - Pending action items
```

## Integration with seed.ts

Add to main seed orchestrator after existing seeders:
```typescript
// After Phase 9 seeding...
console.log('\nSeeding activity timelines...');
await seedActivityTimelines(prisma, organization.id, caseData, userIds);

console.log('\nSeeding workflow instances...');
await seedWorkflowInstances(prisma, organization.id);

console.log('\nSeeding AI conversations...');
await seedAIConversations(prisma, organization.id, caseData);

console.log('\nSeeding in-progress items...');
await seedInProgressItems(prisma, organization.id);
```

## Verification

After seeding, verify:
- [ ] Activity timeline shows on case detail page
- [ ] Policy list shows "In Review" and "Draft" policies
- [ ] Manager portal shows pending approvals
- [ ] AI chat history shows prior interactions
- [ ] Operator console shows active intake
- [ ] Analytics reflects new activity data

## Success Criteria

- Demo can show rich activity timeline on any case
- Demo can walk through policy approval workflow in progress
- Demo can show AI conversation history
- Manager can see and action pending items
- All demo scenarios from DEMO-ENVIRONMENT-CHECKLIST.md work end-to-end
