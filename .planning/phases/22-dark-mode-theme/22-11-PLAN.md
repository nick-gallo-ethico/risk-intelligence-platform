---
phase: 22-dark-mode-theme
plan: 11
type: execute
wave: 4
depends_on: ["22-03", "22-04"]
files_modified:
  - apps/frontend/src/components/employee/employee-dashboard.tsx
  - apps/frontend/src/components/employee/employee-header.tsx
  - apps/frontend/src/components/employee/dashboard-tabs.tsx
  - apps/frontend/src/components/employee/my-tasks-tab.tsx
  - apps/frontend/src/components/employee/my-team-tab.tsx
  - apps/frontend/src/components/employee/task-card.tsx
  - apps/frontend/src/components/employee/team-member-row.tsx
  - apps/frontend/src/components/employee/team-member-selector.tsx
  - apps/frontend/src/components/employee/proxy-report-form.tsx
  - apps/frontend/src/components/employee/proxy-confirmation.tsx
  - apps/frontend/src/components/employee/proxy-reason-selector.tsx
  - apps/frontend/src/app/employee/layout.tsx
  - apps/frontend/src/components/campaigns/CampaignBuilder.tsx
  - apps/frontend/src/components/campaigns/SegmentBuilder.tsx
  - apps/frontend/src/components/campaigns/ScheduleConfig.tsx
  - apps/frontend/src/components/campaigns/campaigns-table.tsx
  - apps/frontend/src/components/campaigns/campaigns-filters.tsx
  - apps/frontend/src/components/campaigns/campaigns-summary-cards.tsx
  - apps/frontend/src/components/disclosures/DisclosureForm.tsx
  - apps/frontend/src/components/disclosures/DraftIndicator.tsx
  - apps/frontend/src/components/disclosures/form-builder/FormBuilder.tsx
  - apps/frontend/src/components/disclosures/form-builder/FormPreview.tsx
  - apps/frontend/src/components/disclosures/form-builder/FieldPalette.tsx
autonomous: true

must_haves:
  truths:
    - "Employee portal renders correctly in dark mode"
    - "Proxy report form is usable in dark mode"
    - "Campaign management pages render correctly in dark mode"
    - "Disclosure form builder and preview render correctly in dark mode"
  artifacts:
    - path: "apps/frontend/src/components/employee/employee-dashboard.tsx"
      provides: "Dark-mode-compatible employee dashboard"
    - path: "apps/frontend/src/components/disclosures/form-builder/FormBuilder.tsx"
      provides: "Dark-mode-compatible form builder"
  key_links:
    - from: "employee/layout.tsx"
      to: "employee-header.tsx"
      via: "Employee layout using header"
      pattern: "EmployeeHeader"
---

<objective>
Theme the employee portal (11 components), campaign management (6 components), and disclosure/form builder components (5 components, including the 2 highest-color-count files in the entire codebase). FormPreview.tsx has ~54 and FormBuilder.tsx has ~50 hardcoded colors.

Purpose: Complete dark mode coverage for these three feature areas that are used by end-users and compliance teams.
Output: Employee portal, campaigns, and disclosure form builder fully dark-mode-compatible.
</objective>

<execution_context>
@C:\Users\cu0718\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\cu0718\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-dark-mode-theme/22-RESEARCH.md
@apps/frontend/src/lib/theme-colors.ts
@apps/frontend/src/components/employee/employee-dashboard.tsx
@apps/frontend/src/components/disclosures/form-builder/FormBuilder.tsx
@apps/frontend/src/components/disclosures/form-builder/FormPreview.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Theme employee portal and campaign components</name>
  <files>
    apps/frontend/src/components/employee/employee-dashboard.tsx
    apps/frontend/src/components/employee/employee-header.tsx
    apps/frontend/src/components/employee/dashboard-tabs.tsx
    apps/frontend/src/components/employee/my-tasks-tab.tsx
    apps/frontend/src/components/employee/my-team-tab.tsx
    apps/frontend/src/components/employee/task-card.tsx
    apps/frontend/src/components/employee/team-member-row.tsx
    apps/frontend/src/components/employee/team-member-selector.tsx
    apps/frontend/src/components/employee/proxy-report-form.tsx
    apps/frontend/src/components/employee/proxy-confirmation.tsx
    apps/frontend/src/components/employee/proxy-reason-selector.tsx
    apps/frontend/src/app/employee/layout.tsx
    apps/frontend/src/components/campaigns/CampaignBuilder.tsx
    apps/frontend/src/components/campaigns/SegmentBuilder.tsx
    apps/frontend/src/components/campaigns/ScheduleConfig.tsx
    apps/frontend/src/components/campaigns/campaigns-table.tsx
    apps/frontend/src/components/campaigns/campaigns-filters.tsx
    apps/frontend/src/components/campaigns/campaigns-summary-cards.tsx
  </files>
  <action>
**Employee Portal (11 components, ~30 hardcoded colors):**

Several employee components already have `dark:` variants:
- `employee-dashboard.tsx` — has some dark variants
- `proxy-confirmation.tsx` — has 10 dark variants
- `proxy-report-form.tsx` — has 7 dark variants

For these files, verify and complete any remaining hardcoded colors.

For other employee files, apply the standard migration:
- `bg-white` → `bg-card`
- `bg-gray-50` → `bg-muted/50`
- `text-gray-*` → semantic tokens
- `border-gray-*` → `border-border`

**Employee Layout (`employee/layout.tsx`):**
- Page background: `bg-gray-50` → `bg-background`
- Ensure employee header passes through dark mode

**Task Card:**
- Card background, priority indicator, due date styling
- Status: use `getStatusColor()` from theme-colors.ts

**Team Member Row:**
- Row background, compliance score colors
- Score thresholds: green >= 80%, amber >= 50%, red < 50%
- Use `semanticTextColors` from theme-colors.ts for score colors

**Campaign Components (6 components, ~15 hardcoded colors):**

Standard migration:
- `CampaignBuilder.tsx`: form sections, step indicators
- `SegmentBuilder.tsx`: rule builder UI, condition cards
- `ScheduleConfig.tsx`: calendar/schedule styling
- `campaigns-table.tsx`: table rows, status badges (use theme-colors.ts)
- `campaigns-filters.tsx`: filter bar, chips
- `campaigns-summary-cards.tsx`: stat cards (same pattern as dashboard stats-cards)
  </action>
  <verify>
  - `cd apps/frontend && npx tsc --noEmit` should compile without errors
  - Employee portal renders correctly in dark mode
  - Campaign pages render correctly in dark mode
  </verify>
  <done>All 11 employee portal components and 6 campaign components render correctly in dark mode.</done>
</task>

<task type="auto">
  <name>Task 2: Theme disclosure form builder and preview (highest color counts)</name>
  <files>
    apps/frontend/src/components/disclosures/DisclosureForm.tsx
    apps/frontend/src/components/disclosures/DraftIndicator.tsx
    apps/frontend/src/components/disclosures/form-builder/FormBuilder.tsx
    apps/frontend/src/components/disclosures/form-builder/FormPreview.tsx
    apps/frontend/src/components/disclosures/form-builder/FieldPalette.tsx
  </files>
  <action>
These files have the HIGHEST hardcoded color counts in the entire codebase:
- `FormPreview.tsx` — ~54 hardcoded colors
- `FormBuilder.tsx` — ~50 hardcoded colors

**FormBuilder.tsx (~50 hardcoded colors):**
Apply systematically by section:

1. **Builder layout:**
   - Main container: `bg-white` / `bg-gray-50` → `bg-card` / `bg-muted`
   - Sidebar (field palette area): standard migration

2. **Form section containers:**
   - Section cards: `bg-white` → `bg-card`
   - Section headers: `text-gray-900` → `text-foreground`
   - Section borders: `border-gray-200` → `border-border`

3. **Field items:**
   - Field background: `bg-white` → `bg-card`
   - Drag handles: `hover:bg-gray-100` → `hover:bg-muted`
   - Selected field: check highlight color — should use `bg-primary/10` or `ring-primary`
   - Field type indicators: use `semanticBgColors` and `semanticTextColors`

4. **Field configuration panel:**
   - Panel background: standard migration
   - Input labels: `text-gray-700` → `text-foreground`
   - Help text: `text-gray-500` → `text-muted-foreground`

5. **Drag & drop indicators:**
   - Drop zones: `bg-blue-50` → `bg-blue-50 dark:bg-blue-900/20`
   - Drop placeholder borders: `border-blue-300` → `border-blue-300 dark:border-blue-700`

**FormPreview.tsx (~54 hardcoded colors):**
Apply systematically:

1. **Preview container:**
   - Background: `bg-white` / `bg-gray-50` → `bg-card` / `bg-muted/50`
   - Border: `border-gray-200` → `border-border`

2. **Form fields preview:**
   - Input fields (display only): `bg-gray-100` → `bg-muted`, `border-gray-300` → `border-border`
   - Labels: `text-gray-700` → `text-foreground`
   - Help text: `text-gray-500` → `text-muted-foreground`
   - Required indicators: keep red

3. **Section headers:**
   - `bg-gray-50 text-gray-900` → `bg-muted text-foreground`

4. **Conditional field indicators:**
   - Condition badges: use `semanticColors` from theme-colors.ts

**FieldPalette.tsx:**
- Palette item backgrounds and hover states
- Category headers
- Drag source styling

**DisclosureForm.tsx:**
- Form container: standard migration
- Field groups: standard migration

**DraftIndicator.tsx:**
- Draft badge styling
  </action>
  <verify>
  - `cd apps/frontend && npx tsc --noEmit` should compile without errors
  - Form builder renders correctly in dark mode (all sections, fields, drag areas)
  - Form preview renders correctly in dark mode (all field types)
  </verify>
  <done>FormBuilder (~50 colors) and FormPreview (~54 colors) — the two highest-color-count files — render correctly in dark mode. All disclosure components themed.</done>
</task>

</tasks>

<verification>
- `cd apps/frontend && npx tsc --noEmit` passes
- Employee portal with proxy report usable in dark mode
- Campaign builder and table render correctly
- Form builder and preview usable in dark mode (the most color-intensive components)
</verification>

<success_criteria>
- Employee portal (11 components) dark-mode-compatible
- Campaign management (6 components) dark-mode-compatible
- Disclosure form builder/preview (5 components, ~104 combined hardcoded colors) dark-mode-compatible
</success_criteria>

<output>
After completion, create `.planning/phases/22-dark-mode-theme/22-11-SUMMARY.md`
</output>
