---
phase: 22-dark-mode-theme
plan: 13
type: execute
wave: 4
depends_on: ["22-03", "22-04"]
files_modified:
  - apps/frontend/src/app/(authenticated)/cases/page.tsx
  - apps/frontend/src/app/(authenticated)/cases/new/page.tsx
  - apps/frontend/src/app/(authenticated)/cases/[id]/page.tsx
  - apps/frontend/src/app/(authenticated)/investigations/page.tsx
  - apps/frontend/src/app/(authenticated)/investigations/[id]/page.tsx
  - apps/frontend/src/app/(authenticated)/policies/page.tsx
  - apps/frontend/src/app/(authenticated)/policies/[id]/page.tsx
  - apps/frontend/src/app/(authenticated)/disclosures/page.tsx
  - apps/frontend/src/app/(authenticated)/intake-forms/page.tsx
  - apps/frontend/src/app/(authenticated)/campaigns/page.tsx
  - apps/frontend/src/app/(authenticated)/analytics/page.tsx
  - apps/frontend/src/app/(authenticated)/analytics/dashboards/[id]/page.tsx
  - apps/frontend/src/app/(authenticated)/analytics/reports/[id]/page.tsx
  - apps/frontend/src/app/(authenticated)/analytics/reports/[id]/run/page.tsx
  - apps/frontend/src/app/(authenticated)/projects/page.tsx
  - apps/frontend/src/app/(authenticated)/settings/page.tsx
  - apps/frontend/src/app/(authenticated)/settings/organization/page.tsx
  - apps/frontend/src/app/(authenticated)/settings/audit/page.tsx
  - apps/frontend/src/app/(authenticated)/notifications/page.tsx
  - apps/frontend/src/app/(authenticated)/profile/page.tsx
  - apps/frontend/src/app/(authenticated)/search/page.tsx
  - apps/frontend/src/app/(authenticated)/my-work/page.tsx
  - apps/frontend/src/app/compliance/conflicts/page.tsx
  - apps/frontend/src/app/internal/page.tsx
  - apps/frontend/src/app/internal/implementation/page.tsx
  - apps/frontend/src/app/internal/implementation/[projectId]/page.tsx
  - apps/frontend/src/app/internal/implementation/[projectId]/go-live/page.tsx
  - apps/frontend/src/app/~offline/page.tsx
autonomous: true

must_haves:
  truths:
    - "All 43 page files have no hardcoded colors that lack dark variants"
    - "Page backgrounds use bg-background consistently"
    - "Page headings and text use text-foreground/text-muted-foreground consistently"
    - "All pages render correctly in dark mode"
  artifacts:
    - path: "apps/frontend/src/app/(authenticated)/settings/page.tsx"
      provides: "Dark-mode-compatible settings hub"
    - path: "apps/frontend/src/app/(authenticated)/my-work/page.tsx"
      provides: "Dark-mode-compatible My Work page"
  key_links: []
---

<objective>
Sweep all page files (the Next.js `page.tsx` files) for any remaining hardcoded colors. While components handle most of the visual rendering, page files often have their own backgrounds, headings, wrappers, and layout-level styling that needs dark mode treatment.

Purpose: Ensure every page in the app uses consistent dark-mode-compatible styling at the page level, not just at the component level.
Output: All 43 page files use semantic tokens with no hardcoded colors lacking dark variants.
</objective>

<execution_context>
@C:\Users\cu0718\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\cu0718\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-dark-mode-theme/22-RESEARCH.md
@apps/frontend/src/lib/theme-colors.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Theme all authenticated page files</name>
  <files>
    apps/frontend/src/app/(authenticated)/cases/page.tsx
    apps/frontend/src/app/(authenticated)/cases/new/page.tsx
    apps/frontend/src/app/(authenticated)/cases/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/investigations/page.tsx
    apps/frontend/src/app/(authenticated)/investigations/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/policies/page.tsx
    apps/frontend/src/app/(authenticated)/policies/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/disclosures/page.tsx
    apps/frontend/src/app/(authenticated)/intake-forms/page.tsx
    apps/frontend/src/app/(authenticated)/campaigns/page.tsx
    apps/frontend/src/app/(authenticated)/analytics/page.tsx
    apps/frontend/src/app/(authenticated)/analytics/dashboards/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/analytics/reports/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/analytics/reports/[id]/run/page.tsx
    apps/frontend/src/app/(authenticated)/projects/page.tsx
    apps/frontend/src/app/(authenticated)/settings/page.tsx
    apps/frontend/src/app/(authenticated)/settings/organization/page.tsx
    apps/frontend/src/app/(authenticated)/settings/audit/page.tsx
    apps/frontend/src/app/(authenticated)/notifications/page.tsx
    apps/frontend/src/app/(authenticated)/profile/page.tsx
    apps/frontend/src/app/(authenticated)/search/page.tsx
    apps/frontend/src/app/(authenticated)/my-work/page.tsx
  </files>
  <action>
Scan each page file for hardcoded Tailwind color classes and apply the standard migration:

**Standard pattern for page files:**
- Page wrapper/container: `bg-gray-50` / `bg-white` → `bg-background`
- Page title: `text-gray-900` → `text-foreground`
- Page description: `text-gray-600` / `text-gray-500` → `text-muted-foreground`
- Section dividers: `border-gray-200` → `border-border`
- Card wrappers: `bg-white` → `bg-card`
- Tab containers: standard migration

Many page files may delegate ALL styling to imported components and have no hardcoded colors themselves — in that case, no changes needed for that file.

**Settings Hub page (`settings/page.tsx`):**
- Settings category cards: `bg-white` → `bg-card`
- Category icon backgrounds: use `semanticBgColors` from theme-colors.ts
- Category descriptions: `text-gray-500` → `text-muted-foreground`
- Section headers: `text-gray-900` → `text-foreground`

**My Work page (`my-work/page.tsx`):**
- Task list backgrounds and text: standard migration

**Search page (`search/page.tsx`):**
- Search results styling: standard migration
- Result type indicators

**Profile page (`profile/page.tsx`):**
- Profile form sections: standard migration

**Notifications page (`notifications/page.tsx`):**
- Notification list items: standard migration
- Read/unread indicator styling

**Analytics pages:**
- Dashboard grid background
- Report detail page sections
- Report run page results area
  </action>
  <verify>
  - `cd apps/frontend && npx tsc --noEmit` should compile without errors
  - Navigate through all authenticated pages in dark mode — no broken styling
  </verify>
  <done>All 22 authenticated page files use semantic tokens with no hardcoded colors lacking dark variants.</done>
</task>

<task type="auto">
  <name>Task 2: Theme external and special page files</name>
  <files>
    apps/frontend/src/app/compliance/conflicts/page.tsx
    apps/frontend/src/app/internal/page.tsx
    apps/frontend/src/app/internal/implementation/page.tsx
    apps/frontend/src/app/internal/implementation/[projectId]/page.tsx
    apps/frontend/src/app/internal/implementation/[projectId]/go-live/page.tsx
    apps/frontend/src/app/~offline/page.tsx
    apps/frontend/src/app/(authenticated)/settings/users/page.tsx
    apps/frontend/src/app/(authenticated)/settings/users/[id]/page.tsx
    apps/frontend/src/app/(authenticated)/settings/users/invite/page.tsx
  </files>
  <action>
Apply the same standard migration to all remaining page files:

**Compliance/Conflicts page:**
- Queue listing: standard migration
- Filter bar: standard migration

**Internal pages (4 files):**
- Admin hub page: standard migration
- Implementation project pages: standard migration (components handle most styling)
- Go-live page: standard migration

**Offline page:**
- Offline message: `bg-white` → `bg-background`, `text-gray-*` → semantic tokens
- Ensure offline indicator visible in dark mode

**Settings/Users pages (3 files):**
- User list page: standard migration
- User detail page: standard migration
- Invite page: standard migration

**Note:** Ethics portal pages and employee/operator pages should already be handled by their layout and component theming in plans 22-09 through 22-11. Verify these page files have no additional hardcoded colors. If they do, apply the standard migration:
- `apps/frontend/src/app/ethics/[tenant]/page.tsx`
- `apps/frontend/src/app/ethics/[tenant]/report/page.tsx`
- `apps/frontend/src/app/ethics/[tenant]/report/confirmation/page.tsx`
- `apps/frontend/src/app/ethics/[tenant]/status/page.tsx`
- `apps/frontend/src/app/ethics/[tenant]/status/[code]/page.tsx`
- `apps/frontend/src/app/employee/page.tsx`
- `apps/frontend/src/app/employee/proxy-report/page.tsx`
- `apps/frontend/src/app/operator/page.tsx`
- `apps/frontend/src/app/operator/qa-queue/page.tsx`
  </action>
  <verify>
  - `cd apps/frontend && npx tsc --noEmit` should compile without errors
  - All pages render correctly in dark mode
  </verify>
  <done>All remaining page files themed. Every page in the application uses semantic tokens for colors.</done>
</task>

</tasks>

<verification>
- `cd apps/frontend && npx tsc --noEmit` passes
- All 43 pages render without broken colors in dark mode
- No `bg-white` or `text-gray-*` in page files without dark variants
</verification>

<success_criteria>
- All pages render correctly in dark mode (success criteria #2)
- Page-level backgrounds, headings, and wrappers use semantic tokens
- No unthemed page files remain
</success_criteria>

<output>
After completion, create `.planning/phases/22-dark-mode-theme/22-13-SUMMARY.md`
</output>
