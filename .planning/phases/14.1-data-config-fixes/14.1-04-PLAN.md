---
phase: 14.1-data-config-fixes
plan: 04
type: execute
wave: 2
depends_on: ["14.1-01", "14.1-02", "14.1-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Notifications page shows seeded notification records"
    - "Search returns results for seeded cases"
    - "Category dropdowns in case creation are populated"
    - "My Tasks shows tasks for logged-in demo user"
    - "Audit log is accessible for demo admin user"
  artifacts: []
  key_links: []
---

<objective>
Verification checkpoint: Run seed and verify all five Phase 14.1 fixes work correctly.

Purpose: Confirm that the data seeding and configuration fixes resolve all issues discovered during Phase 14 verification.
Output: Verification results for all five success criteria.
</objective>

<execution_context>
@C:\Users\cu0718\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\cu0718\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Re-run database seed</name>
  <files></files>
  <action>
Run the database seed to apply all the new seeder changes.

```bash
cd apps/backend
npx prisma db push --force-reset  # Reset DB (dev only)
npx ts-node prisma/seed.ts        # Run seed
```

Expected output should include:
- "Seeding notifications..." with notification count
- "Seeding activity timeline (~15,000 audit entries)..."
- "Demo user case ownership: CCO=XX, INV1=XX, ..."
- Final summary with all counts

Capture the seed output for verification.
  </action>
  <verify>
Seed completes without errors
Output shows notification, activity, and demo user ownership stats
  </verify>
  <done>
Seed completes successfully with all new seeders executed
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 14.1 data seeding fixes:
1. Notification seeder for demo users
2. Activity seeder wired into orchestrator
3. Demo user case ownership for My Tasks
  </what-built>
  <how-to-verify>
Start both backend and frontend:
```bash
# Terminal 1: Backend
cd apps/backend && npm run start:dev

# Terminal 2: Frontend
cd apps/frontend && npm run dev
```

Then verify each fix in browser at http://localhost:3000:

1. **Notifications page**: Log in as demo-admin@acme.local (Password123!)
   - Click notification bell icon in top nav
   - Click "View All" to go to /notifications
   - Expected: Page shows list of notification records (not empty)

2. **Search results**: Use global search bar in top nav
   - Type "harassment" or a case reference number
   - Expected: Search shows results (may need Elasticsearch running)
   - If no results: Check if ES is running (`docker-compose up -d elasticsearch`)

3. **Category dropdowns**: Navigate to case creation
   - Dashboard -> Create Case (or /cases/new)
   - Expected: Category dropdown shows Harassment, Fraud, COI, Safety, etc.

4. **My Tasks**: Check dashboard
   - Navigate to Dashboard (/)
   - Look at "My Tasks" widget
   - Expected: Shows 20+ tasks for demo-admin or demo-cco

5. **Audit Log**: Navigate to Settings -> Audit Log
   - Expected: Page loads (not "Failed to Load")
   - Shows activity entries for case creation, status changes, etc.
  </how-to-verify>
  <resume-signal>
Type "verified" with notes on each check:
- Notifications: PASS/FAIL
- Search: PASS/FAIL (note if ES issue)
- Categories: PASS/FAIL
- My Tasks: PASS/FAIL (note count)
- Audit Log: PASS/FAIL
  </resume-signal>
</task>

</tasks>

<verification>
All five success criteria verified through human testing:
1. Notifications page shows seeded records
2. Search returns results (with ES running)
3. Category dropdowns populated
4. My Tasks shows tasks for demo user
5. Audit log accessible and shows data
</verification>

<success_criteria>
- All five verification items pass
- Demo environment is fully functional for sales demos
- No "empty" or "Failed to Load" states on core pages
</success_criteria>

<output>
After completion, create `.planning/phases/14.1-data-config-fixes/14.1-04-SUMMARY.md`
</output>
