---
phase: 14.1
plan: 01
subsystem: data-seeding
tags: [notifications, demo-data, seeder, prisma]
dependency-graph:
  requires: [07-notifications-email]
  provides: [notification-seed-data]
  affects: [demo-environment]
tech-stack:
  added: []
  patterns: [faker-deterministic-seeding, batch-insert]
key-files:
  created:
    - apps/backend/prisma/seeders/notification.seeder.ts
  modified:
    - apps/backend/prisma/seed.ts
decisions:
  - Deterministic seeding using faker.seed(masterSeed + 700) for reproducibility
  - 50-100 notifications per demo user provides realistic data without bloat
  - 70% read / 30% unread ratio simulates realistic notification inbox
  - Link notifications to case entities 70% of the time for relevant context
metrics:
  duration: 24 min
  completed: 2026-02-09
---

# Phase 14.1 Plan 01: Create Notification Seed Data Summary

Notification seeder with 50-100 notifications per demo user covering diverse notification types, wired into seed orchestrator.

## What Was Built

### Notification Seeder (notification.seeder.ts)

Created a comprehensive notification seeder that generates realistic notification data for demo users:

- **Volume:** 50-100 notifications per demo user
- **Type Distribution:**
  - ASSIGNMENT: 30%
  - STATUS_UPDATE: 20%
  - COMMENT: 15%
  - ESCALATION: 10%
  - DEADLINE: 10%
  - APPROVAL: 10%
  - COMPLETION: 5%
- **Channel Distribution:** IN_APP (80%), EMAIL (20%)
- **Read Status:** 70% read, 30% unread
- **Timestamps:** Spread over last 30 days
- **Entity Linking:** 70% of case-related notifications link to real case entities
- **Deterministic:** Uses faker.seed() for reproducible results

### Seed Orchestrator Integration (seed.ts)

- Added import for `seedNotifications` function
- Placed notification seeding after saved views section
- Passes `demoUserIds` and `caseIds` for proper linking
- Added notification count to demo summary output

## Decisions Made

| Decision | Rationale |
|----------|-----------|
| 50-100 notifications per user | Provides realistic data volume without excessive database bloat |
| 70% read / 30% unread ratio | Simulates typical user inbox behavior where most notifications are acknowledged |
| Link to cases 70% of time | Provides relevant entity context for case-related notifications |
| Deterministic seeding (seed 700) | Ensures reproducible demo data across seed runs |
| Delete existing before insert | Ensures idempotent re-runs without duplicates |
| Batch insert (500/batch) | Efficient database inserts for large notification volumes |

## Commits

| Commit | Description |
|--------|-------------|
| 6693162 | feat(14.1-01): create notification seeder for demo data |
| db86542 | feat(14.1-01): wire notification seeder into seed orchestrator |

## Files Changed

| File | Change |
|------|--------|
| `apps/backend/prisma/seeders/notification.seeder.ts` | Created - notification seeder with seedNotifications export |
| `apps/backend/prisma/seed.ts` | Modified - import and call seedNotifications |

## Deviations from Plan

None - plan executed exactly as written.

## Verification Results

- [x] TypeScript compiles without errors
- [x] `seedNotifications` export exists in notification.seeder.ts
- [x] seed.ts imports seedNotifications (line 29)
- [x] seed.ts calls seedNotifications (line 279)
- [x] Seeder creates 50-100 notifications per demo user with diverse types

## Next Phase Readiness

- Notification seed data will populate the Notifications page with realistic activity
- Demo users will see a mix of read/unread notifications across different types
- Running `npx prisma db seed` will now include notification seeding
