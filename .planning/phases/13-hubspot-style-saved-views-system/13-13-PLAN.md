---
phase: 13-hubspot-style-saved-views-system
plan: 13
type: execute
wave: 4
depends_on: ["13-12"]
files_modified:
  - apps/frontend/src/lib/views/configs/disclosures.config.ts
  - apps/frontend/src/lib/views/configs/intake-forms.config.ts
  - apps/frontend/src/app/(authenticated)/disclosures/page.tsx
  - apps/frontend/src/app/(authenticated)/intake-forms/page.tsx
  - apps/frontend/src/hooks/views/useDisclosuresView.ts
  - apps/frontend/src/hooks/views/useIntakeFormsView.ts
  - apps/frontend/src/lib/views/configs/index.ts
autonomous: true

must_haves:
  truths:
    - "Disclosures page uses saved views system"
    - "Intake Forms page uses saved views system"
    - "Disclosures has COI-specific columns (gifts, relationships, outside activities)"
    - "Intake Forms has form submission columns (form type, submitter, status)"
    - "All module configs are exported from central index"
  artifacts:
    - path: "apps/frontend/src/lib/views/configs/disclosures.config.ts"
      provides: "ModuleViewConfig for Disclosures"
      contains: "DISCLOSURES_VIEW_CONFIG"
    - path: "apps/frontend/src/lib/views/configs/intake-forms.config.ts"
      provides: "ModuleViewConfig for Intake Forms"
      contains: "INTAKE_FORMS_VIEW_CONFIG"
  key_links:
    - from: "DisclosuresPage"
      to: "SavedViewProvider"
      via: "DISCLOSURES_VIEW_CONFIG"
      pattern: "moduleType: 'disclosures'"
---

<objective>
Integrate saved views into Disclosures and Intake Forms modules.

Purpose: Disclosures (COI, gifts, outside activities) and Intake Forms complete the five pillar modules. Each has unique column requirements reflecting their specialized data.

Output: Disclosures and Intake Forms pages with full saved views functionality.
</objective>

<execution_context>
@C:\Users\cu0718\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\cu0718\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/hubspot-view-system-spec.md
@apps/frontend/src/lib/views/configs/cases.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Disclosures view configuration</name>
  <files>apps/frontend/src/lib/views/configs/disclosures.config.ts</files>
  <action>
Create the Disclosures module view configuration:

```typescript
import {
  Gift,
  Users,
  Briefcase,
  DollarSign,
  Calendar,
  AlertTriangle,
  CheckCircle,
} from "lucide-react";
import {
  ModuleViewConfig,
  ColumnConfig,
  PropertyGroup,
  BulkAction,
} from "../types";

const DISCLOSURE_STATUSES = [
  { value: "pending_review", label: "Pending Review", color: "#F59E0B" },
  { value: "under_review", label: "Under Review", color: "#3B82F6" },
  { value: "approved", label: "Approved", color: "#10B981" },
  { value: "requires_action", label: "Requires Action", color: "#EF4444" },
  { value: "rejected", label: "Rejected", color: "#DC2626" },
  { value: "closed", label: "Closed", color: "#6B7280" },
];

const DISCLOSURE_TYPES = [
  { value: "conflict_of_interest", label: "Conflict of Interest" },
  { value: "gift_received", label: "Gift Received" },
  { value: "gift_given", label: "Gift Given" },
  { value: "entertainment", label: "Entertainment" },
  { value: "outside_activity", label: "Outside Activity" },
  { value: "financial_interest", label: "Financial Interest" },
  { value: "family_relationship", label: "Family/Personal Relationship" },
  { value: "other", label: "Other" },
];

const RISK_LEVELS = [
  { value: "low", label: "Low Risk", color: "#10B981" },
  { value: "medium", label: "Medium Risk", color: "#F59E0B" },
  { value: "high", label: "High Risk", color: "#EF4444" },
];

const DISCLOSURES_COLUMNS: ColumnConfig[] = [
  {
    id: "disclosureNumber",
    accessorKey: "disclosureNumber",
    header: "Disclosure #",
    type: "link",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 130,
  },
  {
    id: "type",
    accessorKey: "type",
    header: "Type",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: DISCLOSURE_TYPES,
    width: 180,
  },
  {
    id: "status",
    accessorKey: "status",
    header: "Status",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: DISCLOSURE_STATUSES,
    width: 140,
  },
  {
    id: "riskLevel",
    accessorKey: "riskLevel",
    header: "Risk Level",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: RISK_LEVELS,
    width: 120,
  },
  {
    id: "submitter",
    accessorKey: "submitter.name",
    header: "Submitter",
    type: "user",
    group: "submitter",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: [],
    width: 150,
  },
  {
    id: "submitterDepartment",
    accessorKey: "submitter.department.name",
    header: "Department",
    type: "select",
    group: "submitter",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    options: [],
    width: 150,
  },
  {
    id: "submittedAt",
    accessorKey: "submittedAt",
    header: "Submitted Date",
    type: "datetime",
    group: "dates",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    width: 150,
  },
  {
    id: "reviewedAt",
    accessorKey: "reviewedAt",
    header: "Review Date",
    type: "datetime",
    group: "dates",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 150,
  },
  {
    id: "reviewer",
    accessorKey: "reviewer.name",
    header: "Reviewer",
    type: "user",
    group: "review",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: [],
    width: 150,
  },
  // Gift/Entertainment specific
  {
    id: "giftValue",
    accessorKey: "giftValue",
    header: "Gift Value",
    type: "number",
    group: "gift",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 110,
  },
  {
    id: "giftDescription",
    accessorKey: "giftDescription",
    header: "Gift Description",
    type: "text",
    group: "gift",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 200,
  },
  {
    id: "thirdParty",
    accessorKey: "thirdParty",
    header: "Third Party",
    type: "text",
    group: "relationship",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 150,
  },
  {
    id: "relationship",
    accessorKey: "relationship",
    header: "Relationship",
    type: "text",
    group: "relationship",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 150,
  },
  // Outside activity specific
  {
    id: "activityName",
    accessorKey: "activityName",
    header: "Activity",
    type: "text",
    group: "outside_activity",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 200,
  },
  {
    id: "hoursPerWeek",
    accessorKey: "hoursPerWeek",
    header: "Hours/Week",
    type: "number",
    group: "outside_activity",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 100,
  },
  // Campaign info
  {
    id: "campaignName",
    accessorKey: "campaign.name",
    header: "Campaign",
    type: "text",
    group: "campaign",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 150,
  },
  {
    id: "createdCase",
    accessorKey: "createdCase",
    header: "Created Case",
    type: "boolean",
    group: "outcome",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 110,
  },
];

const DISCLOSURES_PROPERTY_GROUPS: PropertyGroup[] = [
  { id: "core", label: "Core Fields" },
  { id: "submitter", label: "Submitter" },
  { id: "dates", label: "Dates" },
  { id: "review", label: "Review" },
  { id: "gift", label: "Gift/Entertainment" },
  { id: "relationship", label: "Relationship" },
  { id: "outside_activity", label: "Outside Activity" },
  { id: "campaign", label: "Campaign" },
  { id: "outcome", label: "Outcome" },
];

const DISCLOSURES_BULK_ACTIONS: BulkAction[] = [
  {
    id: "assign",
    label: "Assign Reviewer",
    children: [],
  },
  {
    id: "status",
    label: "Change Status",
    children: DISCLOSURE_STATUSES.map((s) => ({
      id: `status-${s.value}`,
      label: s.label,
    })),
  },
  {
    id: "risk",
    label: "Set Risk Level",
    children: RISK_LEVELS.map((r) => ({
      id: `risk-${r.value}`,
      label: r.label,
    })),
  },
  {
    id: "export",
    label: "Export Selected",
  },
];

export const DISCLOSURES_VIEW_CONFIG: ModuleViewConfig = {
  moduleType: "disclosures",
  entityName: {
    singular: "Disclosure",
    plural: "Disclosures",
  },
  columns: DISCLOSURES_COLUMNS,
  propertyGroups: DISCLOSURES_PROPERTY_GROUPS,
  defaultColumns: [
    "disclosureNumber",
    "type",
    "status",
    "riskLevel",
    "submitter",
    "submittedAt",
  ],
  defaultQuickFilters: ["type", "status", "riskLevel", "submittedAt"],
  bulkActions: DISCLOSURES_BULK_ACTIONS,
  defaultViews: [
    {
      name: "All Disclosures",
      columns: [
        "disclosureNumber",
        "type",
        "status",
        "riskLevel",
        "submitter",
        "submittedAt",
      ],
      filters: [],
      sort: { column: "submittedAt", direction: "desc" as const },
    },
    {
      name: "Pending Review",
      columns: [
        "disclosureNumber",
        "type",
        "riskLevel",
        "submitter",
        "submittedAt",
      ],
      filters: [
        {
          id: "pending",
          conditions: [
            {
              id: "1",
              propertyId: "status",
              operator: "is" as const,
              value: "pending_review",
            },
          ],
        },
      ],
      sort: { column: "riskLevel", direction: "desc" as const },
    },
    {
      name: "High Risk",
      columns: [
        "disclosureNumber",
        "type",
        "status",
        "submitter",
        "thirdParty",
        "submittedAt",
      ],
      filters: [
        {
          id: "high-risk",
          conditions: [
            {
              id: "1",
              propertyId: "riskLevel",
              operator: "is" as const,
              value: "high",
            },
          ],
        },
      ],
      sort: { column: "submittedAt", direction: "desc" as const },
    },
    {
      name: "Gifts Over $100",
      columns: [
        "disclosureNumber",
        "submitter",
        "giftValue",
        "giftDescription",
        "thirdParty",
        "status",
      ],
      filters: [
        {
          id: "gifts-over-100",
          conditions: [
            {
              id: "1",
              propertyId: "type",
              operator: "is_any_of" as const,
              value: ["gift_received", "gift_given"],
            },
            {
              id: "2",
              propertyId: "giftValue",
              operator: "is_greater_than" as const,
              value: 100,
            },
          ],
        },
      ],
      sort: { column: "giftValue", direction: "desc" as const },
    },
  ],
  endpoints: {
    list: "/api/disclosures",
    export: "/api/disclosures/export",
    bulk: "/api/disclosures/bulk",
  },
  boardConfig: {
    defaultGroupBy: "status",
    columns: DISCLOSURE_STATUSES.map((s) => ({
      id: s.value,
      label: s.label,
      color: s.color,
    })),
    cardConfig: {
      titleField: "disclosureNumber",
      subtitleField: "type",
      ownerField: "submitter.name",
      dateField: "submittedAt",
      displayFields: [
        { key: "riskLevel", type: "text", icon: AlertTriangle },
        { key: "thirdParty", type: "text", icon: Users },
      ],
    },
  },
};
```

  </action>
  <verify>npm run typecheck passes</verify>
  <done>Disclosures view configuration complete</done>
</task>

<task type="auto">
  <name>Task 2: Create Intake Forms view configuration</name>
  <files>apps/frontend/src/lib/views/configs/intake-forms.config.ts</files>
  <action>
Create the Intake Forms module view configuration:

```typescript
import {
  FileText,
  User,
  Calendar,
  Send,
  CheckCircle,
  Clock,
} from "lucide-react";
import {
  ModuleViewConfig,
  ColumnConfig,
  PropertyGroup,
  BulkAction,
} from "../types";

const INTAKE_FORM_STATUSES = [
  { value: "draft", label: "Draft", color: "#6B7280" },
  { value: "submitted", label: "Submitted", color: "#3B82F6" },
  { value: "in_review", label: "In Review", color: "#F59E0B" },
  { value: "processed", label: "Processed", color: "#10B981" },
  { value: "cancelled", label: "Cancelled", color: "#9CA3AF" },
];

const INTAKE_FORM_TYPES = [
  { value: "ethics_report", label: "Ethics Report" },
  { value: "incident_report", label: "Incident Report" },
  { value: "grievance", label: "Grievance" },
  { value: "feedback", label: "Feedback" },
  { value: "suggestion", label: "Suggestion" },
  { value: "question", label: "Question" },
  { value: "compliance_concern", label: "Compliance Concern" },
];

const INTAKE_SOURCE_CHANNELS = [
  { value: "web_form", label: "Web Form" },
  { value: "employee_portal", label: "Employee Portal" },
  { value: "ethics_portal", label: "Ethics Portal" },
  { value: "mobile_app", label: "Mobile App" },
];

const INTAKE_FORMS_COLUMNS: ColumnConfig[] = [
  {
    id: "submissionId",
    accessorKey: "submissionId",
    header: "Submission #",
    type: "link",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 130,
  },
  {
    id: "formName",
    accessorKey: "form.name",
    header: "Form",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: [],
    width: 180,
  },
  {
    id: "formType",
    accessorKey: "form.type",
    header: "Form Type",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: INTAKE_FORM_TYPES,
    width: 150,
  },
  {
    id: "status",
    accessorKey: "status",
    header: "Status",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: INTAKE_FORM_STATUSES,
    width: 120,
  },
  {
    id: "sourceChannel",
    accessorKey: "sourceChannel",
    header: "Source",
    type: "select",
    group: "core",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    options: INTAKE_SOURCE_CHANNELS,
    width: 130,
  },
  {
    id: "submitter",
    accessorKey: "submitter.name",
    header: "Submitter",
    type: "user",
    group: "submitter",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: [],
    width: 150,
  },
  {
    id: "isAnonymous",
    accessorKey: "isAnonymous",
    header: "Anonymous",
    type: "boolean",
    group: "submitter",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 100,
  },
  {
    id: "submittedAt",
    accessorKey: "submittedAt",
    header: "Submitted",
    type: "datetime",
    group: "dates",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    width: 150,
  },
  {
    id: "processedAt",
    accessorKey: "processedAt",
    header: "Processed",
    type: "datetime",
    group: "dates",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 150,
  },
  {
    id: "assignee",
    accessorKey: "assignee.name",
    header: "Assigned To",
    type: "user",
    group: "assignment",
    sortable: true,
    filterable: true,
    quickFilterable: true,
    options: [],
    width: 150,
  },
  {
    id: "createdRiu",
    accessorKey: "createdRiu",
    header: "Created RIU",
    type: "boolean",
    group: "outcome",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 100,
  },
  {
    id: "createdCase",
    accessorKey: "createdCase",
    header: "Created Case",
    type: "boolean",
    group: "outcome",
    sortable: false,
    filterable: true,
    quickFilterable: false,
    width: 110,
  },
  {
    id: "aiCategory",
    accessorKey: "aiCategory",
    header: "AI Category",
    type: "text",
    group: "ai",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    width: 130,
  },
  {
    id: "aiPriority",
    accessorKey: "aiPriority",
    header: "AI Priority",
    type: "select",
    group: "ai",
    sortable: true,
    filterable: true,
    quickFilterable: false,
    options: [
      { value: "low", label: "Low" },
      { value: "medium", label: "Medium" },
      { value: "high", label: "High" },
    ],
    width: 110,
  },
];

const INTAKE_FORMS_PROPERTY_GROUPS: PropertyGroup[] = [
  { id: "core", label: "Core Fields" },
  { id: "submitter", label: "Submitter" },
  { id: "dates", label: "Dates" },
  { id: "assignment", label: "Assignment" },
  { id: "outcome", label: "Outcome" },
  { id: "ai", label: "AI Triage" },
];

const INTAKE_FORMS_BULK_ACTIONS: BulkAction[] = [
  {
    id: "assign",
    label: "Assign",
    children: [],
  },
  {
    id: "status",
    label: "Change Status",
    children: INTAKE_FORM_STATUSES.map((s) => ({
      id: `status-${s.value}`,
      label: s.label,
    })),
  },
  {
    id: "create-cases",
    label: "Create Cases",
  },
  {
    id: "export",
    label: "Export Selected",
  },
];

export const INTAKE_FORMS_VIEW_CONFIG: ModuleViewConfig = {
  moduleType: "intake-forms",
  entityName: {
    singular: "Submission",
    plural: "Submissions",
  },
  columns: INTAKE_FORMS_COLUMNS,
  propertyGroups: INTAKE_FORMS_PROPERTY_GROUPS,
  defaultColumns: [
    "submissionId",
    "formName",
    "formType",
    "status",
    "submitter",
    "submittedAt",
  ],
  defaultQuickFilters: ["formType", "status", "submitter", "submittedAt"],
  bulkActions: INTAKE_FORMS_BULK_ACTIONS,
  defaultViews: [
    {
      name: "All Submissions",
      columns: [
        "submissionId",
        "formName",
        "formType",
        "status",
        "submitter",
        "submittedAt",
      ],
      filters: [],
      sort: { column: "submittedAt", direction: "desc" as const },
    },
    {
      name: "Pending Review",
      columns: [
        "submissionId",
        "formName",
        "formType",
        "submitter",
        "submittedAt",
        "assignee",
      ],
      filters: [
        {
          id: "pending",
          conditions: [
            {
              id: "1",
              propertyId: "status",
              operator: "is_any_of" as const,
              value: ["submitted", "in_review"],
            },
          ],
        },
      ],
      sort: { column: "submittedAt", direction: "asc" as const },
    },
    {
      name: "Anonymous Reports",
      columns: [
        "submissionId",
        "formType",
        "status",
        "submittedAt",
        "aiCategory",
        "aiPriority",
      ],
      filters: [
        {
          id: "anonymous",
          conditions: [
            {
              id: "1",
              propertyId: "isAnonymous",
              operator: "is_true" as const,
            },
          ],
        },
      ],
      sort: { column: "submittedAt", direction: "desc" as const },
    },
    {
      name: "Ethics Reports",
      columns: [
        "submissionId",
        "status",
        "submitter",
        "submittedAt",
        "createdCase",
      ],
      filters: [
        {
          id: "ethics",
          conditions: [
            {
              id: "1",
              propertyId: "formType",
              operator: "is" as const,
              value: "ethics_report",
            },
          ],
        },
      ],
      sort: { column: "submittedAt", direction: "desc" as const },
    },
  ],
  endpoints: {
    list: "/api/intake-forms/submissions",
    export: "/api/intake-forms/submissions/export",
    bulk: "/api/intake-forms/submissions/bulk",
  },
  boardConfig: {
    defaultGroupBy: "status",
    columns: INTAKE_FORM_STATUSES.map((s) => ({
      id: s.value,
      label: s.label,
      color: s.color,
    })),
    cardConfig: {
      titleField: "submissionId",
      subtitleField: "formName",
      ownerField: "submitter.name",
      dateField: "submittedAt",
      displayFields: [
        { key: "formType", type: "text", icon: FileText },
        { key: "sourceChannel", type: "text", icon: Send },
      ],
    },
  },
};
```

  </action>
  <verify>npm run typecheck passes</verify>
  <done>Intake Forms view configuration complete</done>
</task>

<task type="auto">
  <name>Task 3: Create hooks and update pages</name>
  <files>apps/frontend/src/hooks/views/useDisclosuresView.ts, apps/frontend/src/hooks/views/useIntakeFormsView.ts, apps/frontend/src/app/(authenticated)/disclosures/page.tsx, apps/frontend/src/app/(authenticated)/intake-forms/page.tsx</files>
  <action>
Create hooks following the established pattern and update pages:

```typescript
// apps/frontend/src/hooks/views/useDisclosuresView.ts
import { useMemo, useCallback } from "react";
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { api } from "@/lib/api";
import { DISCLOSURES_VIEW_CONFIG } from "@/lib/views/configs/disclosures.config";
import { useSavedViewContext } from "./useSavedViewContext";
import { toast } from "sonner";

export function useDisclosuresView() {
  const queryClient = useQueryClient();
  const { filters, quickFilters, searchQuery, sortBy, sortOrder } =
    useSavedViewContext();

  const queryParams = useMemo(() => {
    const params: Record<string, unknown> = {};
    if (searchQuery) params.search = searchQuery;
    if (sortBy) {
      params.sortBy = sortBy;
      params.sortOrder = sortOrder;
    }
    const allConditions = [
      ...filters.flatMap((g) => g.conditions),
      ...quickFilters.filter((qf) => qf.condition).map((qf) => qf.condition!),
    ];
    if (allConditions.length > 0) {
      params.filters = JSON.stringify(allConditions);
    }
    return params;
  }, [filters, quickFilters, searchQuery, sortBy, sortOrder]);

  const { data, isLoading, error, refetch } = useQuery({
    queryKey: ["disclosures", queryParams],
    queryFn: async () => {
      const response = await api.get("/api/disclosures", {
        params: queryParams,
      });
      return response.data;
    },
  });

  const statusMutation = useMutation({
    mutationFn: async ({ ids, status }: { ids: string[]; status: string }) => {
      await api.post("/api/disclosures/bulk", {
        action: "status",
        ids,
        data: { status },
      });
    },
    onSuccess: () => {
      toast.success("Disclosures updated");
      queryClient.invalidateQueries({ queryKey: ["disclosures"] });
    },
  });

  const handleBulkAction = useCallback(
    (actionId: string, selectedIds: string[]) => {
      if (actionId === "export") {
        window.open(
          `/api/disclosures/export?ids=${selectedIds.join(",")}`,
          "_blank",
        );
        return;
      }
      if (actionId.startsWith("status-")) {
        const status = actionId.replace("status-", "");
        statusMutation.mutate({ ids: selectedIds, status });
      }
    },
    [statusMutation],
  );

  const handleStatusChange = useCallback(
    (id: string, newStatus: string) => {
      statusMutation.mutate({ ids: [id], status: newStatus });
    },
    [statusMutation],
  );

  return {
    config: DISCLOSURES_VIEW_CONFIG,
    disclosures: data?.data || [],
    totalRecords: data?.total || 0,
    isLoading,
    error,
    refetch,
    handleBulkAction,
    handleStatusChange,
  };
}
```

```typescript
// apps/frontend/src/hooks/views/useIntakeFormsView.ts
import { useMemo, useCallback } from "react";
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { api } from "@/lib/api";
import { INTAKE_FORMS_VIEW_CONFIG } from "@/lib/views/configs/intake-forms.config";
import { useSavedViewContext } from "./useSavedViewContext";
import { toast } from "sonner";

export function useIntakeFormsView() {
  const queryClient = useQueryClient();
  const { filters, quickFilters, searchQuery, sortBy, sortOrder } =
    useSavedViewContext();

  const queryParams = useMemo(() => {
    const params: Record<string, unknown> = {};
    if (searchQuery) params.search = searchQuery;
    if (sortBy) {
      params.sortBy = sortBy;
      params.sortOrder = sortOrder;
    }
    const allConditions = [
      ...filters.flatMap((g) => g.conditions),
      ...quickFilters.filter((qf) => qf.condition).map((qf) => qf.condition!),
    ];
    if (allConditions.length > 0) {
      params.filters = JSON.stringify(allConditions);
    }
    return params;
  }, [filters, quickFilters, searchQuery, sortBy, sortOrder]);

  const { data, isLoading, error, refetch } = useQuery({
    queryKey: ["intake-forms", queryParams],
    queryFn: async () => {
      const response = await api.get("/api/intake-forms/submissions", {
        params: queryParams,
      });
      return response.data;
    },
  });

  const statusMutation = useMutation({
    mutationFn: async ({ ids, status }: { ids: string[]; status: string }) => {
      await api.post("/api/intake-forms/submissions/bulk", {
        action: "status",
        ids,
        data: { status },
      });
    },
    onSuccess: () => {
      toast.success("Submissions updated");
      queryClient.invalidateQueries({ queryKey: ["intake-forms"] });
    },
  });

  const handleBulkAction = useCallback(
    (actionId: string, selectedIds: string[]) => {
      if (actionId === "export") {
        window.open(
          `/api/intake-forms/submissions/export?ids=${selectedIds.join(",")}`,
          "_blank",
        );
        return;
      }
      if (actionId.startsWith("status-")) {
        const status = actionId.replace("status-", "");
        statusMutation.mutate({ ids: selectedIds, status });
      }
    },
    [statusMutation],
  );

  const handleStatusChange = useCallback(
    (id: string, newStatus: string) => {
      statusMutation.mutate({ ids: [id], status: newStatus });
    },
    [statusMutation],
  );

  return {
    config: INTAKE_FORMS_VIEW_CONFIG,
    submissions: data?.data || [],
    totalRecords: data?.total || 0,
    isLoading,
    error,
    refetch,
    handleBulkAction,
    handleStatusChange,
  };
}
```

Update both pages following the Cases/Investigations pattern.
</action>
<verify>npm run typecheck passes</verify>
<done>Hooks and pages for Disclosures and Intake Forms complete</done>
</task>

<task type="auto">
  <name>Task 4: Create central config export index</name>
  <files>apps/frontend/src/lib/views/configs/index.ts</files>
  <action>
Create a central index for all view configs:

```typescript
// apps/frontend/src/lib/views/configs/index.ts
export { CASES_VIEW_CONFIG } from "./cases.config";
export { INVESTIGATIONS_VIEW_CONFIG } from "./investigations.config";
export { POLICIES_VIEW_CONFIG } from "./policies.config";
export { DISCLOSURES_VIEW_CONFIG } from "./disclosures.config";
export { INTAKE_FORMS_VIEW_CONFIG } from "./intake-forms.config";

import { ModuleViewConfig } from "../types";
import { CASES_VIEW_CONFIG } from "./cases.config";
import { INVESTIGATIONS_VIEW_CONFIG } from "./investigations.config";
import { POLICIES_VIEW_CONFIG } from "./policies.config";
import { DISCLOSURES_VIEW_CONFIG } from "./disclosures.config";
import { INTAKE_FORMS_VIEW_CONFIG } from "./intake-forms.config";

// Map of all module configs for dynamic lookup
export const MODULE_VIEW_CONFIGS: Record<string, ModuleViewConfig> = {
  cases: CASES_VIEW_CONFIG,
  investigations: INVESTIGATIONS_VIEW_CONFIG,
  policies: POLICIES_VIEW_CONFIG,
  disclosures: DISCLOSURES_VIEW_CONFIG,
  "intake-forms": INTAKE_FORMS_VIEW_CONFIG,
};

// Get config by module type
export function getModuleViewConfig(
  moduleType: string,
): ModuleViewConfig | undefined {
  return MODULE_VIEW_CONFIGS[moduleType];
}
```

  </action>
  <verify>npm run typecheck passes; npm run lint passes</verify>
  <done>Central config index with all module configs</done>
</task>

</tasks>

<verification>
```bash
cd apps/frontend
npm run typecheck
npm run lint
```
</verification>

<success_criteria>

- Disclosures page uses saved views with COI-specific columns
- Intake Forms page uses saved views with submission-specific columns
- Both have appropriate default views and bulk actions
- All 5 module configs are exported from central index
- getModuleViewConfig function returns correct config by module type
- Pages follow consistent pattern across all modules
  </success_criteria>

<output>
After completion, create `.planning/phases/13-hubspot-style-saved-views-system/13-13-SUMMARY.md`
</output>
