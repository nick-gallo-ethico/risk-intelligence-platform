---
phase: 20
plan: 04
name: Integrations & AI Settings Pages
wave: 2
autonomous: true
---

# Plan 20-04: Integrations & AI Settings Pages

## Objective

Build the Integrations page and AI Settings page to fill the remaining Account Management gaps.

## What Already Exists

- Navigation link to `/settings/integrations` (currently 404s)
- Backend HRIS integration service (Merge.dev adapter pattern)
- Backend AI module with health check, skills registry, rate limits
- AI usage tracking (AiUsage model)
- Organization settings for branding include SSO/domain settings

## Tasks

### Task 1: Integrations Page

**File:** `apps/frontend/src/app/(authenticated)/settings/integrations/page.tsx`

Integration management hub with cards for each integration type:

1. **HRIS Integration** — Status badge (Connected/Not Connected), provider name, last sync time, "Configure" button. Shows Merge.dev supported providers (Workday, BambooHR, ADP, etc.)
2. **Email (SMTP)** — Status, configured sender, "Configure" button
3. **SSO / Identity Provider** — Status, provider type (Azure AD/Google/SAML), link to SSO configuration
4. **Webhooks** — Count of active webhooks, "Manage" button
5. **Storage (Azure Blob)** — Status indicator, container info

Each card: icon, title, status badge, description, action button.
Action buttons can link to relevant settings or show a configuration dialog.

For MVP: Display status and config info. Full management flows deferred.

### Task 2: AI Settings Page

**File:** `apps/frontend/src/app/(authenticated)/settings/ai/page.tsx`

AI configuration page with sections:

1. **AI Status** — Health check indicator (call GET /ai/health), model info, capabilities list
2. **Feature Toggles** — Enable/disable AI features per category:
   - Note cleanup (enabled/disabled)
   - Auto-summarization (enabled/disabled)
   - Risk scoring (enabled/disabled)
   - Category suggestion (enabled/disabled)
   - Natural language search (enabled/disabled)
3. **Usage & Limits** — Current month usage stats (requests, tokens), rate limit configuration
4. **API Configuration** — API key status (configured/not configured), model preference

Feature toggles stored as organization settings JSON field. Read-only display for usage metrics.

### Task 3: AI Settings API Client

**File:** `apps/frontend/src/services/ai-settings.ts`

API client:

- `getAiHealth()` — GET /api/v1/ai/health
- `getAiUsage(period)` — GET /api/v1/ai/usage (if endpoint exists, otherwise display placeholder)
- `getAiSettings()` — GET /api/v1/organization/settings (extract AI section)
- `updateAiSettings(dto)` — PUT /api/v1/organization/ai-settings

## Success Criteria

- [ ] `/settings/integrations` renders (no more 404) with integration cards
- [ ] HRIS integration shows connection status
- [ ] SSO integration links to SSO configuration
- [ ] `/settings/ai` shows AI health status
- [ ] AI feature toggles display (even if backend toggle storage is placeholder)
- [ ] TypeScript compiles without errors
