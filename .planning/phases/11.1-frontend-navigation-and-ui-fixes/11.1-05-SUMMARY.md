---
phase: "11.1"
plan: "05"
subsystem: "frontend-campaigns"
tags: ["campaigns", "react-query", "data-table", "filters", "pagination"]
dependency-graph:
  requires: ["11.1-01", "11.1-02"]
  provides: ["campaigns-list-page", "campaigns-api-client", "campaigns-hooks"]
  affects: ["campaigns-detail-page", "campaigns-management"]
tech-stack:
  added: []
  patterns: ["URL-based-filter-state", "React-Query-pagination", "Tab-presets"]
key-files:
  created:
    - apps/frontend/src/types/campaign.ts
    - apps/frontend/src/lib/campaigns-api.ts
    - apps/frontend/src/hooks/use-campaigns.ts
    - apps/frontend/src/components/campaigns/campaigns-summary-cards.tsx
    - apps/frontend/src/components/campaigns/campaigns-filters.tsx
    - apps/frontend/src/components/campaigns/campaigns-table.tsx
    - apps/frontend/src/app/(authenticated)/campaigns/page.tsx
  modified:
    - apps/frontend/src/components/campaigns/index.ts
decisions:
  - id: "campaigns-url-state"
    choice: "URL search params for filter state"
    rationale: "Enables shareable URLs and browser back/forward navigation"
metrics:
  duration: "10 min"
  completed: "2026-02-05"
---

# Phase 11.1 Plan 05: Campaigns List Page Summary

Campaigns list page with summary cards, filters, table, and pagination using React Query.

## What Was Built

### 1. Campaign Types and API Client (Task 1)

Created comprehensive TypeScript types for campaigns matching backend entities:

- `Campaign` interface with all fields (id, name, type, status, dates, assignment counts)
- `CampaignQueryParams` for filtering/pagination
- `CampaignDashboardStats` for summary statistics
- Display helper maps: `CAMPAIGN_TYPE_LABELS`, `CAMPAIGN_STATUS_LABELS`, color maps

Created `campaigns-api.ts` with typed endpoints:
- `list(params)` - GET /campaigns with query params
- `getById(id)` - GET /campaigns/:id
- `getStats()` - GET /campaigns/dashboard/stats
- `create/update/delete` - Campaign CRUD
- `launch/pause/resume/cancel` - Campaign lifecycle

Created React Query hooks in `use-campaigns.ts`:
- `useCampaigns(params)` - Paginated list with filters
- `useCampaignStats()` - Dashboard statistics
- `useCampaign(id)` - Single campaign detail
- Mutation hooks for all write operations

### 2. Campaigns Page Components (Task 2)

**CampaignsSummaryCards:**
- 4-card grid: Active Campaigns, Pending Review, Completed, Total Reach
- Icon-colored headers with values and subtitles
- Loading skeleton support

**CampaignsFilters:**
- Search input with icon
- Type dropdown (Disclosure, Attestation, Survey)
- Status dropdown (Draft, Scheduled, Active, Paused, Completed, Cancelled)
- Date range pickers (From/To) using Calendar popover
- Clear filters button when active
- Advanced filters placeholder

**CampaignsTable:**
- Sortable columns: Name, Status, Type, Start Date, Due Date, Completion, Owner
- Status and Type badges with colors
- Progress bar for completion percentage
- Click-to-navigate to campaign detail
- Loading skeleton rows
- Empty state messaging

### 3. Campaigns List Page (Task 3)

Created `/campaigns` page in authenticated route group:

- Page header with Create Campaign button
- Summary cards integrated with `useCampaignStats`
- Tab presets (All, Active, Drafts, Completed) that update status filter
- Filters card with all filter controls
- Table with campaigns data from `useCampaigns`
- Pagination with page size selector
- URL-based filter state for shareable links

## Key Patterns Used

1. **URL State Management:** Filters stored in URL search params for shareable links and browser navigation
2. **Tab Presets:** Quick-filter tabs that apply preset filter combinations
3. **React Query Integration:** Proper query keys, stale times, and cache invalidation
4. **Component Composition:** Reused Pagination component from cases

## Commits

| Hash | Description |
|------|-------------|
| b06861c | Add campaign types, API client, and React Query hooks |
| e7dc1bf | Add campaigns page components |
| 5dc7630 | Create campaigns list page with filters and pagination |

## Verification Results

- [x] /campaigns page accessible from navigation
- [x] Summary cards display (Active, Pending, Completed, Total Reach)
- [x] Filters present and functional (Type, Status, Date range, Search)
- [x] Table shows campaigns with correct columns
- [x] Table rows navigate to detail page
- [x] Create Campaign button navigates to /campaigns/new
- [x] ESLint passes with no errors in new files
- [x] TypeScript compiles with no errors in new files
- [x] Page has 248 lines (min 80 required)
- [x] Table has 210 lines (min 60 required)

## Deviations from Plan

None - plan executed exactly as written.

## Next Steps

- Campaigns detail page (/campaigns/[id]) for viewing individual campaigns
- Campaign edit functionality
- Backend endpoint for /campaigns/dashboard/stats if not yet implemented
