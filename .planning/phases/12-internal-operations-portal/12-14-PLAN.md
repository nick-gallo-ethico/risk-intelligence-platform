---
phase: 12-internal-operations-portal
plan: 14
type: execute
wave: 4
depends_on: [12-07, 12-09, 12-13]
files_modified:
  - apps/ops-console/src/app/implementation/page.tsx
  - apps/ops-console/src/app/implementation/[projectId]/page.tsx
  - apps/ops-console/src/app/implementation/[projectId]/go-live/page.tsx
  - apps/ops-console/src/components/implementation/ProjectCard.tsx
  - apps/ops-console/src/components/implementation/ChecklistPanel.tsx
  - apps/ops-console/src/components/implementation/GoLiveChecklist.tsx
autonomous: true

must_haves:
  truths:
    - "Project dashboard shows all implementations with status and health"
    - "Checklist tracker displays tasks by phase with completion status"
    - "Blockers displayed with escalation status"
    - "Go-live readiness shows hard gates + score + sign-off option"
  artifacts:
    - path: "apps/ops-console/src/app/implementation/page.tsx"
      provides: "Implementation project dashboard"
      min_lines: 100
    - path: "apps/ops-console/src/components/implementation/GoLiveChecklist.tsx"
      provides: "Go-live readiness display with gates and score"
      min_lines: 100
  key_links:
    - from: "ChecklistPanel"
      to: "/api/v1/internal/implementations"
      via: "task updates"
      pattern: "implementations"
---

<objective>
Create Implementation Portal UI with project dashboard and checklist tracker.

Purpose: Enable implementation specialists per CONTEXT.md: project tracking, phase-based checklists, blocker management, go-live readiness with hybrid gates.

Output: Implementation portal pages with project list, detail view, checklist, and go-live readiness.
</objective>

<execution_context>
@.claude/agents/gsd-executor.md
@.claude/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/12-internal-operations-portal/12-CONTEXT.md
@.planning/phases/12-internal-operations-portal/12-07-SUMMARY.md
@.planning/phases/12-internal-operations-portal/12-09-SUMMARY.md
@.planning/phases/12-internal-operations-portal/12-13-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Implementation Dashboard</name>
  <files>
    apps/ops-console/src/app/implementation/page.tsx
    apps/ops-console/src/app/implementation/layout.tsx
    apps/ops-console/src/components/implementation/ProjectCard.tsx
  </files>
  <action>
Create implementation dashboard with project list:

**implementation/layout.tsx:**
```tsx
import { InternalLayout } from '@/components/InternalLayout';

export default function ImplementationLayout({ children }: { children: React.ReactNode }) {
  return <InternalLayout>{children}</InternalLayout>;
}
```

**implementation/page.tsx:**
```tsx
'use client';

import { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import Link from 'next/link';
import { ProjectCard } from '@/components/implementation/ProjectCard';
import { Plus, Filter } from 'lucide-react';

export default function ImplementationDashboardPage() {
  const [statusFilter, setStatusFilter] = useState<string | null>(null);

  const { data, isLoading } = useQuery({
    queryKey: ['implementations', statusFilter],
    queryFn: async () => {
      const params = new URLSearchParams();
      if (statusFilter) params.set('status', statusFilter);
      const res = await fetch(`/api/v1/internal/implementations?${params}`);
      return res.json();
    },
  });

  const statusOptions = [
    { value: null, label: 'All' },
    { value: 'NOT_STARTED', label: 'Not Started' },
    { value: 'IN_PROGRESS', label: 'In Progress' },
    { value: 'AT_RISK', label: 'At Risk' },
    { value: 'ON_HOLD', label: 'On Hold' },
    { value: 'COMPLETED', label: 'Completed' },
  ];

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex items-center justify-between">
        <h1 className="text-2xl font-bold">Implementation Projects</h1>
        <Link
          href="/implementation/new"
          className="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
        >
          <Plus className="h-4 w-4" />
          New Project
        </Link>
      </div>

      {/* Filters */}
      <div className="flex items-center gap-4">
        <Filter className="h-4 w-4 text-gray-500" />
        {statusOptions.map((opt) => (
          <button
            key={opt.label}
            onClick={() => setStatusFilter(opt.value)}
            className={`px-3 py-1 rounded-full text-sm ${
              statusFilter === opt.value
                ? 'bg-blue-100 text-blue-700'
                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
            }`}
          >
            {opt.label}
          </button>
        ))}
      </div>

      {/* Stats */}
      <div className="grid grid-cols-5 gap-4">
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-2xl font-bold">{data?.total || 0}</div>
          <div className="text-sm text-gray-500">Total Projects</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-2xl font-bold text-blue-600">
            {data?.items?.filter((p: any) => p.status === 'IN_PROGRESS').length || 0}
          </div>
          <div className="text-sm text-gray-500">In Progress</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-2xl font-bold text-yellow-600">
            {data?.items?.filter((p: any) => p.status === 'AT_RISK').length || 0}
          </div>
          <div className="text-sm text-gray-500">At Risk</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-2xl font-bold text-green-600">
            {data?.items?.filter((p: any) => p.status === 'COMPLETED').length || 0}
          </div>
          <div className="text-sm text-gray-500">Completed</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-2xl font-bold">
            {Math.round(data?.items?.reduce((sum: number, p: any) => sum + p.healthScore, 0) / (data?.items?.length || 1) || 0)}%
          </div>
          <div className="text-sm text-gray-500">Avg Health</div>
        </div>
      </div>

      {/* Project list */}
      {isLoading ? (
        <div className="text-center py-8">Loading...</div>
      ) : (
        <div className="grid grid-cols-2 gap-4">
          {data?.items?.map((project: any) => (
            <ProjectCard key={project.id} project={project} />
          ))}
        </div>
      )}
    </div>
  );
}
```

**components/implementation/ProjectCard.tsx:**
```tsx
import Link from 'next/link';
import { Building2, Calendar, User, AlertTriangle, ChevronRight } from 'lucide-react';
import { cn } from '@/lib/utils';
import { format } from 'date-fns';

interface ProjectCardProps {
  project: {
    id: string;
    type: string;
    status: string;
    currentPhase: string;
    healthScore: number;
    targetGoLiveDate: string | null;
    organization: { name: string };
  };
}

const statusColors: Record<string, string> = {
  NOT_STARTED: 'bg-gray-100 text-gray-700',
  IN_PROGRESS: 'bg-blue-100 text-blue-700',
  AT_RISK: 'bg-yellow-100 text-yellow-700',
  ON_HOLD: 'bg-orange-100 text-orange-700',
  COMPLETED: 'bg-green-100 text-green-700',
  CANCELLED: 'bg-red-100 text-red-700',
};

export function ProjectCard({ project }: ProjectCardProps) {
  const healthColor =
    project.healthScore >= 80
      ? 'text-green-600'
      : project.healthScore >= 60
      ? 'text-yellow-600'
      : 'text-red-600';

  return (
    <Link
      href={`/implementation/${project.id}`}
      className="block p-4 bg-white border rounded-lg hover:shadow-md transition-shadow"
    >
      <div className="flex items-start justify-between">
        <div className="flex items-center gap-3">
          <Building2 className="h-5 w-5 text-gray-400" />
          <div>
            <h3 className="font-medium">{project.organization.name}</h3>
            <p className="text-sm text-gray-500">{project.type.replace(/_/g, ' ')}</p>
          </div>
        </div>
        <span className={cn('px-2 py-1 rounded-full text-xs', statusColors[project.status])}>
          {project.status.replace(/_/g, ' ')}
        </span>
      </div>

      <div className="mt-4 flex items-center justify-between text-sm">
        <div className="flex items-center gap-4">
          <div className="flex items-center gap-1 text-gray-500">
            <Calendar className="h-4 w-4" />
            {project.targetGoLiveDate
              ? format(new Date(project.targetGoLiveDate), 'MMM d')
              : 'TBD'}
          </div>
          <div className={cn('font-medium', healthColor)}>
            {project.healthScore}% health
          </div>
        </div>

        <div className="flex items-center gap-1 text-blue-600">
          <span className="text-xs uppercase tracking-wide">
            {project.currentPhase.replace(/_/g, ' ')}
          </span>
          <ChevronRight className="h-4 w-4" />
        </div>
      </div>
    </Link>
  );
}
```
  </action>
  <verify>TypeScript compiles: `cd apps/ops-console && npx tsc --noEmit`</verify>
  <done>Implementation dashboard with project list and status filters</done>
</task>

<task type="auto">
  <name>Task 2: Create Project Detail and Checklist Views</name>
  <files>
    apps/ops-console/src/app/implementation/[projectId]/page.tsx
    apps/ops-console/src/components/implementation/ChecklistPanel.tsx
    apps/ops-console/src/components/implementation/BlockerCard.tsx
  </files>
  <action>
Create project detail with checklist:

**[projectId]/page.tsx:**
```tsx
'use client';

import { useParams } from 'next/navigation';
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import Link from 'next/link';
import { ChecklistPanel } from '@/components/implementation/ChecklistPanel';
import { BlockerCard } from '@/components/implementation/BlockerCard';
import { format } from 'date-fns';
import { ArrowLeft, Calendar, User, AlertTriangle, Rocket } from 'lucide-react';

export default function ProjectDetailPage() {
  const { projectId } = useParams();
  const queryClient = useQueryClient();

  const { data: project, isLoading } = useQuery({
    queryKey: ['implementation', projectId],
    queryFn: async () => {
      const res = await fetch(`/api/v1/internal/implementations/${projectId}`);
      return res.json();
    },
  });

  const updateTaskMutation = useMutation({
    mutationFn: async ({ taskId, status }: { taskId: string; status: string }) => {
      const res = await fetch(`/api/v1/internal/implementations/${projectId}/tasks/${taskId}`, {
        method: 'PATCH',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ status }),
      });
      return res.json();
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['implementation', projectId] });
    },
  });

  if (isLoading) return <div>Loading...</div>;

  const tasksByPhase = project?.tasks?.reduce((acc: any, task: any) => {
    if (!acc[task.phase]) acc[task.phase] = [];
    acc[task.phase].push(task);
    return acc;
  }, {});

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex items-center gap-4">
        <Link href="/implementation" className="p-2 hover:bg-gray-100 rounded">
          <ArrowLeft className="h-5 w-5" />
        </Link>
        <div className="flex-1">
          <h1 className="text-2xl font-bold">{project?.organization?.name}</h1>
          <p className="text-gray-500">{project?.type?.replace(/_/g, ' ')} Implementation</p>
        </div>
        <Link
          href={`/implementation/${projectId}/go-live`}
          className="flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"
        >
          <Rocket className="h-4 w-4" />
          Go-Live Readiness
        </Link>
      </div>

      {/* Project info */}
      <div className="grid grid-cols-4 gap-4">
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-sm text-gray-500 mb-1">Status</div>
          <div className="font-medium">{project?.status?.replace(/_/g, ' ')}</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-sm text-gray-500 mb-1">Current Phase</div>
          <div className="font-medium">{project?.currentPhase?.replace(/_/g, ' ')}</div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-sm text-gray-500 mb-1">Target Go-Live</div>
          <div className="font-medium">
            {project?.targetGoLiveDate
              ? format(new Date(project.targetGoLiveDate), 'MMM d, yyyy')
              : 'Not set'}
          </div>
        </div>
        <div className="p-4 bg-white border rounded-lg">
          <div className="text-sm text-gray-500 mb-1">Health Score</div>
          <div className={`text-2xl font-bold ${
            project?.healthScore >= 80 ? 'text-green-600' :
            project?.healthScore >= 60 ? 'text-yellow-600' : 'text-red-600'
          }`}>
            {project?.healthScore}%
          </div>
        </div>
      </div>

      {/* Two column layout: Checklist + Blockers */}
      <div className="grid grid-cols-3 gap-6">
        {/* Checklist */}
        <div className="col-span-2 space-y-4">
          <h2 className="text-lg font-semibold">Implementation Checklist</h2>
          {Object.entries(tasksByPhase || {}).map(([phase, tasks]: [string, any]) => (
            <ChecklistPanel
              key={phase}
              phase={phase}
              tasks={tasks}
              onTaskUpdate={(taskId, status) => updateTaskMutation.mutate({ taskId, status })}
            />
          ))}
        </div>

        {/* Blockers */}
        <div className="space-y-4">
          <h2 className="text-lg font-semibold flex items-center gap-2">
            <AlertTriangle className="h-5 w-5 text-yellow-500" />
            Blockers ({project?.blockers?.length || 0})
          </h2>
          {project?.blockers?.length === 0 ? (
            <p className="text-gray-500 text-sm">No active blockers</p>
          ) : (
            project?.blockers?.map((blocker: any) => (
              <BlockerCard key={blocker.id} blocker={blocker} />
            ))
          )}
        </div>
      </div>
    </div>
  );
}
```

**components/implementation/ChecklistPanel.tsx:**
```tsx
import { useState } from 'react';
import { CheckCircle, Circle, AlertCircle, ChevronDown, ChevronRight } from 'lucide-react';
import { cn } from '@/lib/utils';

interface ChecklistPanelProps {
  phase: string;
  tasks: Array<{
    id: string;
    name: string;
    status: string;
    isRequired: boolean;
    dueDate: string | null;
    notes: string | null;
  }>;
  onTaskUpdate: (taskId: string, status: string) => void;
}

const statusIcons: Record<string, any> = {
  PENDING: Circle,
  IN_PROGRESS: Circle,
  COMPLETED: CheckCircle,
  BLOCKED: AlertCircle,
  SKIPPED: Circle,
};

export function ChecklistPanel({ phase, tasks, onTaskUpdate }: ChecklistPanelProps) {
  const [isExpanded, setIsExpanded] = useState(true);

  const completedCount = tasks.filter(t => t.status === 'COMPLETED').length;
  const progress = Math.round((completedCount / tasks.length) * 100);

  return (
    <div className="bg-white border rounded-lg">
      {/* Phase header */}
      <button
        onClick={() => setIsExpanded(!isExpanded)}
        className="w-full p-4 flex items-center justify-between text-left"
      >
        <div className="flex items-center gap-3">
          {isExpanded ? <ChevronDown className="h-5 w-5" /> : <ChevronRight className="h-5 w-5" />}
          <span className="font-medium">{phase.replace(/_/g, ' ')}</span>
          <span className="text-sm text-gray-500">
            {completedCount}/{tasks.length} complete
          </span>
        </div>
        <div className="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
          <div
            className="h-full bg-green-500 transition-all"
            style={{ width: `${progress}%` }}
          />
        </div>
      </button>

      {/* Task list */}
      {isExpanded && (
        <div className="border-t divide-y">
          {tasks.map((task) => {
            const Icon = statusIcons[task.status];
            return (
              <div key={task.id} className="p-3 flex items-center gap-3">
                <button
                  onClick={() => {
                    const newStatus = task.status === 'COMPLETED' ? 'PENDING' : 'COMPLETED';
                    onTaskUpdate(task.id, newStatus);
                  }}
                  className="flex-shrink-0"
                >
                  <Icon
                    className={cn(
                      'h-5 w-5',
                      task.status === 'COMPLETED' ? 'text-green-500' :
                      task.status === 'BLOCKED' ? 'text-red-500' :
                      'text-gray-300',
                    )}
                  />
                </button>
                <div className="flex-1">
                  <div className={cn(
                    'text-sm',
                    task.status === 'COMPLETED' && 'line-through text-gray-400',
                  )}>
                    {task.name}
                    {task.isRequired && (
                      <span className="ml-2 text-xs text-red-500">*required</span>
                    )}
                  </div>
                  {task.notes && (
                    <div className="text-xs text-gray-500 mt-0.5">{task.notes}</div>
                  )}
                </div>
              </div>
            );
          })}
        </div>
      )}
    </div>
  );
}
```

**components/implementation/BlockerCard.tsx:**
```tsx
import { AlertTriangle, Clock, ArrowUp } from 'lucide-react';
import { formatDistanceToNow } from 'date-fns';
import { cn } from '@/lib/utils';

interface BlockerCardProps {
  blocker: {
    id: string;
    title: string;
    description: string | null;
    category: string;
    status: string;
    createdAt: string;
    escalatedToManagerAt: string | null;
    escalatedToDirectorAt: string | null;
  };
}

export function BlockerCard({ blocker }: BlockerCardProps) {
  const isEscalated = blocker.escalatedToManagerAt || blocker.escalatedToDirectorAt;

  return (
    <div className={cn(
      'p-3 border rounded-lg',
      isEscalated ? 'border-red-300 bg-red-50' : 'border-yellow-300 bg-yellow-50',
    )}>
      <div className="flex items-start gap-2">
        <AlertTriangle className={cn(
          'h-4 w-4 mt-0.5 flex-shrink-0',
          isEscalated ? 'text-red-500' : 'text-yellow-500',
        )} />
        <div className="flex-1">
          <div className="font-medium text-sm">{blocker.title}</div>
          {blocker.description && (
            <p className="text-xs text-gray-600 mt-1">{blocker.description}</p>
          )}
          <div className="flex items-center gap-2 mt-2 text-xs text-gray-500">
            <span className="px-1.5 py-0.5 bg-white rounded">
              {blocker.category.toLowerCase()}
            </span>
            <span className="flex items-center gap-1">
              <Clock className="h-3 w-3" />
              {formatDistanceToNow(new Date(blocker.createdAt), { addSuffix: true })}
            </span>
            {isEscalated && (
              <span className="flex items-center gap-1 text-red-600">
                <ArrowUp className="h-3 w-3" />
                Escalated
              </span>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
```
  </action>
  <verify>TypeScript compiles: `cd apps/ops-console && npx tsc --noEmit`</verify>
  <done>Project detail with checklist panel and blocker cards</done>
</task>

<task type="auto">
  <name>Task 3: Create Go-Live Readiness View</name>
  <files>
    apps/ops-console/src/app/implementation/[projectId]/go-live/page.tsx
    apps/ops-console/src/components/implementation/GoLiveChecklist.tsx
  </files>
  <action>
Create go-live readiness page per CONTEXT.md (hard gates + score + sign-off):

**[projectId]/go-live/page.tsx:**
```tsx
'use client';

import { useParams } from 'next/navigation';
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import Link from 'next/link';
import { GoLiveChecklist } from '@/components/implementation/GoLiveChecklist';
import { ArrowLeft, Rocket, CheckCircle, XCircle, AlertTriangle } from 'lucide-react';

export default function GoLivePage() {
  const { projectId } = useParams();
  const queryClient = useQueryClient();

  const { data: status, isLoading } = useQuery({
    queryKey: ['go-live-status', projectId],
    queryFn: async () => {
      const res = await fetch(`/api/v1/internal/implementations/${projectId}/go-live/status`);
      return res.json();
    },
  });

  if (isLoading) return <div>Loading...</div>;

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex items-center gap-4">
        <Link href={`/implementation/${projectId}`} className="p-2 hover:bg-gray-100 rounded">
          <ArrowLeft className="h-5 w-5" />
        </Link>
        <div className="flex-1">
          <h1 className="text-2xl font-bold">Go-Live Readiness</h1>
          <p className="text-gray-500">Check all requirements before going live</p>
        </div>
        {status?.canGoLive && (
          <button className="flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium">
            <Rocket className="h-5 w-5" />
            Launch!
          </button>
        )}
      </div>

      {/* Summary status */}
      <div className={`p-6 rounded-lg border-2 ${
        status?.canGoLive
          ? 'bg-green-50 border-green-300'
          : 'bg-yellow-50 border-yellow-300'
      }`}>
        <div className="flex items-center gap-3 mb-4">
          {status?.canGoLive ? (
            <CheckCircle className="h-8 w-8 text-green-500" />
          ) : (
            <AlertTriangle className="h-8 w-8 text-yellow-500" />
          )}
          <div>
            <h2 className="text-xl font-bold">
              {status?.canGoLive ? 'Ready to Go Live!' : 'Not Yet Ready'}
            </h2>
            <p className="text-gray-600">
              {status?.blockers?.length || 0} blocker(s) remaining
            </p>
          </div>
        </div>

        {/* Blockers list */}
        {status?.blockers?.length > 0 && (
          <ul className="list-disc list-inside text-sm text-gray-700 space-y-1">
            {status.blockers.map((blocker: string, i: number) => (
              <li key={i}>{blocker}</li>
            ))}
          </ul>
        )}
      </div>

      {/* Go-Live Checklist component */}
      <GoLiveChecklist projectId={projectId as string} status={status} />
    </div>
  );
}
```

**components/implementation/GoLiveChecklist.tsx:**
```tsx
'use client';

import { useState } from 'react';
import { useMutation, useQueryClient } from '@tanstack/react-query';
import { CheckCircle, XCircle, AlertCircle, Lock, FileSignature } from 'lucide-react';
import { cn } from '@/lib/utils';

interface GoLiveChecklistProps {
  projectId: string;
  status: {
    allGatesPassed: boolean;
    passedGates: number;
    totalGates: number;
    readinessScore: number;
    recommendedScore: number;
    isRecommendedMet: boolean;
    hasSignoff: boolean;
    canGoLive: boolean;
  };
}

const HARD_GATES = [
  { id: 'auth_configured', name: 'Authentication configured', description: 'SSO or password authentication is set up and tested' },
  { id: 'admin_trained', name: 'At least 1 admin trained/certified', description: 'Primary admin has completed Platform Fundamentals certification' },
  { id: 'terms_signed', name: 'Terms & data processing agreement signed', description: 'Legal agreements are executed' },
  { id: 'contact_designated', name: 'Primary contact designated', description: 'Escalation contact information is on file' },
];

export function GoLiveChecklist({ projectId, status }: GoLiveChecklistProps) {
  const queryClient = useQueryClient();
  const [showSignoff, setShowSignoff] = useState(false);
  const [signoffData, setSignoffData] = useState({
    clientSignerName: '',
    clientSignerEmail: '',
    acknowledgedRisks: [] as string[],
    signoffStatement: '',
  });

  const signoffMutation = useMutation({
    mutationFn: async (data: typeof signoffData) => {
      const res = await fetch(`/api/v1/internal/implementations/${projectId}/go-live/signoff/client`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      });
      return res.json();
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['go-live-status', projectId] });
      setShowSignoff(false);
    },
  });

  return (
    <div className="space-y-6">
      {/* Hard Gates */}
      <div className="bg-white border rounded-lg">
        <div className="p-4 border-b flex items-center gap-2">
          <Lock className="h-5 w-5 text-gray-500" />
          <h3 className="font-semibold">Hard Gates (Blockers - must pass)</h3>
          <span className="ml-auto text-sm text-gray-500">
            {status.passedGates}/{status.totalGates} passed
          </span>
        </div>
        <div className="divide-y">
          {HARD_GATES.map((gate) => (
            <div key={gate.id} className="p-4 flex items-center gap-3">
              <CheckCircle className="h-5 w-5 text-green-500" />
              <div className="flex-1">
                <div className="font-medium text-sm">{gate.name}</div>
                <div className="text-xs text-gray-500">{gate.description}</div>
              </div>
            </div>
          ))}
        </div>
      </div>

      {/* Readiness Score */}
      <div className="bg-white border rounded-lg p-6">
        <div className="flex items-center justify-between mb-4">
          <h3 className="font-semibold">Readiness Score</h3>
          <span className="text-sm text-gray-500">
            Recommended: {status.recommendedScore}%+
          </span>
        </div>
        <div className="relative pt-1">
          <div className="flex mb-2 items-center justify-between">
            <div>
              <span className={cn(
                'text-3xl font-bold',
                status.isRecommendedMet ? 'text-green-600' : 'text-yellow-600',
              )}>
                {status.readinessScore}%
              </span>
            </div>
          </div>
          <div className="h-4 bg-gray-200 rounded-full overflow-hidden">
            <div
              className={cn(
                'h-full transition-all rounded-full',
                status.isRecommendedMet ? 'bg-green-500' : 'bg-yellow-500',
              )}
              style={{ width: `${status.readinessScore}%` }}
            />
            {/* Threshold marker */}
            <div
              className="absolute top-0 h-full border-l-2 border-dashed border-gray-400"
              style={{ left: `${status.recommendedScore}%` }}
            />
          </div>
        </div>

        {!status.isRecommendedMet && (
          <p className="mt-4 text-sm text-yellow-700">
            Score is below recommended threshold. Client sign-off required to proceed.
          </p>
        )}
      </div>

      {/* Sign-off section */}
      {status.allGatesPassed && !status.isRecommendedMet && !status.hasSignoff && (
        <div className="bg-white border rounded-lg p-6">
          <div className="flex items-center gap-2 mb-4">
            <FileSignature className="h-5 w-5 text-blue-500" />
            <h3 className="font-semibold">Client Sign-off Required</h3>
          </div>

          {!showSignoff ? (
            <button
              onClick={() => setShowSignoff(true)}
              className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
              Begin Sign-off Process
            </button>
          ) : (
            <form
              onSubmit={(e) => {
                e.preventDefault();
                signoffMutation.mutate(signoffData);
              }}
              className="space-y-4"
            >
              <div>
                <label className="block text-sm font-medium mb-1">Client Signer Name</label>
                <input
                  type="text"
                  value={signoffData.clientSignerName}
                  onChange={(e) => setSignoffData({ ...signoffData, clientSignerName: e.target.value })}
                  className="w-full px-3 py-2 border rounded"
                  required
                />
              </div>
              <div>
                <label className="block text-sm font-medium mb-1">Client Signer Email</label>
                <input
                  type="email"
                  value={signoffData.clientSignerEmail}
                  onChange={(e) => setSignoffData({ ...signoffData, clientSignerEmail: e.target.value })}
                  className="w-full px-3 py-2 border rounded"
                  required
                />
              </div>
              <div>
                <label className="block text-sm font-medium mb-1">Acknowledge Risks</label>
                <label className="flex items-center gap-2 text-sm">
                  <input
                    type="checkbox"
                    checked={signoffData.acknowledgedRisks.includes('below_threshold')}
                    onChange={(e) => {
                      const risks = e.target.checked
                        ? [...signoffData.acknowledgedRisks, 'below_threshold']
                        : signoffData.acknowledgedRisks.filter(r => r !== 'below_threshold');
                      setSignoffData({ ...signoffData, acknowledgedRisks: risks });
                    }}
                  />
                  I acknowledge the readiness score is below the recommended threshold
                </label>
              </div>
              <div>
                <label className="block text-sm font-medium mb-1">Sign-off Statement</label>
                <textarea
                  value={signoffData.signoffStatement}
                  onChange={(e) => setSignoffData({ ...signoffData, signoffStatement: e.target.value })}
                  className="w-full px-3 py-2 border rounded"
                  rows={3}
                  placeholder="I authorize proceeding with go-live despite the readiness score being below the recommended threshold..."
                  required
                />
              </div>
              <button
                type="submit"
                className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"
              >
                Submit Sign-off
              </button>
            </form>
          )}
        </div>
      )}

      {/* Sign-off complete */}
      {status.hasSignoff && (
        <div className="bg-green-50 border border-green-300 rounded-lg p-4 flex items-center gap-3">
          <CheckCircle className="h-6 w-6 text-green-500" />
          <div>
            <div className="font-medium">Client Sign-off Complete</div>
            <div className="text-sm text-gray-600">Approved to proceed below recommended threshold</div>
          </div>
        </div>
      )}
    </div>
  );
}
```
  </action>
  <verify>
1. `cd apps/ops-console && npx tsc --noEmit` - TypeScript compiles
2. `cd apps/ops-console && npm run build` - Build succeeds
  </verify>
  <done>Go-live readiness view with gates, score, and sign-off workflow</done>
</task>

</tasks>

<verification>
1. `cd apps/ops-console && npx tsc --noEmit` - TypeScript compiles
2. `cd apps/ops-console && npm run build` - Build succeeds
</verification>

<success_criteria>
- Implementation dashboard shows project cards with status/health
- Status filter works (All, In Progress, At Risk, etc.)
- Project detail shows checklist grouped by phase
- Tasks can be toggled complete/pending
- Blockers displayed with escalation status
- Go-live page shows hard gates (must pass)
- Readiness score shown with visual progress bar and threshold marker
- Sign-off form appears when gates pass but score below threshold
</success_criteria>

<output>
After completion, create `.planning/phases/12-internal-operations-portal/12-14-SUMMARY.md`
</output>
